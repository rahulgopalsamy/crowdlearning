<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  <title>Crowdlearning</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="/css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="/css/common.css" type="text/css" rel="stylesheet" media="screen,projection"/>
        <link rel="icon"  type="image/png" href="/img/crowdlearning.png">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script  src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.15.0/jquery.validate.min.js"></script> 
     <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script>
    </head>
<body>
  <nav>
    <div class="nav-wrapper">
      <a href="#" id="brand-image" class="brand-logo" >CrowdLearning</a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li><a href="/<%=link%>/<%=classname%>/coursepage"><%= classname%></a></li>
        <li><a href="/<%= link%>/home">Course</a></li>
        <li><a href="/user/logout">Logout</a></li>
      </ul>
    </div>
  </nav>
    <div class="container"> 
  <div class="row top-margin">
        <div class="col s6 center">
           <a class="waves-effect waves-light btn orange z-depth-3" href="#modal1">Draft</a>
      </div>
      <div class="col s6 center">
           <a class="waves-effect waves-light btn orange z-depth-3" href="#modal1">Preview</a>
      </div>
        </div>  
        <div class="row">
          <div class="input-field col s12">
              <form method="post" action="/<%=link%>/<%= classname%>/createquestion">
                <ul class="collapsible" data-collapsible="expandable">
                                        <li>
                      <div id="content" class="collapsible-header"><i class="material-icons">search
                            </i>Brick</div>
                     <div class="collapsible-body">
                         <select name="brickId" id="mybrick" required>
                             <option disabled selected>Choose your option</option>
                                    <% for(var i=0; i < data.length; i++) { %>
                                    <option value="<%= data[i]._id%>"><%= data[i].brickname %></option>
                                   <% } %>
                                  </select>
                                        </div>
                    </li>
                    <li>
                      <div class="collapsible-header"><i class="material-icons">mode_edit
                            </i>Question Body</div>
                      <div class="collapsible-body">
                        <textarea id="textarea1" name="question" class="materialize-textarea" required></textarea>
                        </div>
                    </li>
                    <li>
                      <div class="collapsible-header"><i class="material-icons">assignment</i>Explanation</div>
                      <div class="collapsible-body">
                        <textarea id="textarea2" name="explanation" class="materialize-textarea" required></textarea>
                        </div>
                    </li>
                    <li>
                      <div class="collapsible-header"><i class="material-icons">launch</i>Answer/Distractors</div>
                      <div class="collapsible-body">
                         <h8>Option1</h8>
                          <input name="options" placeholder="Enter  options" type="text" class="validate" required/>
                          <div class="input_fields_wrap">
                         <h8>Option2</h8>
                            <div><input type="text" name="options" required/></div>
                              <a href="#" class="add_field_button">Add More Distractors</a>
                        </div>
                          <br>                          <h8><b>Choose the right answer from the above options:</b></h8>
  
      <div class="option_wrapper">
      <input type="radio" name="correctanswer" value="option1" id="test1" required/>
      <label for="test1" >Option1</label>
      <input type="radio" name="correctanswer" value="option2" id="test2" />
      <label for="test2">Option2</label>
    </div>
                        </div>
                    </li>
                  </ul>
                  
                  <div class="row center">
                    <button class="btn waves-effect waves-light orange z-depth-4" type="submit">Submit</button>
                  </div>
              </form>
            </div>
        </div>
  </div>
    <script>
     $(document).ready(function(){
    $('.collapsible').collapsible();
         $('select').material_select();
         var max_fields      = 3; //maximum input boxes allowed
    var wrapper         = $(".input_fields_wrap"); //Fields wrapper
    var add_button      = $(".add_field_button"); //Add button ID
    
    var x = 1; //initlal text box count
    $(add_button).click(function(e){ //on add input button click
        e.preventDefault();
        if(x < max_fields){ //max input box allowed
            x++; //text box increment
            $(wrapper).append(' <div> <br><h8>Option'+[x+1]+'</h8><input type="text" name="options"/><a href="#" class="remove_field">Remove</a></div>'); //add input box
            
        $(".option_wrapper").append('<input type="radio" name="correctanswer" value="option'+[x+1]+'" id="test'+[x+1]+'" /><label for="test'+[x+1]+'" >Option'+[x+1]+'</label>');     
        }
    });
    
    $(wrapper).on("click",".remove_field", function(e){ //user click on remove text
        e.preventDefault(); $(this).parent('div').remove(); x--;
    });
    
    var str = $("#mybrick option:selected").text();
         console.log(str);
         $(str).appendTo("#content");
    
    
  });

    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92848140-1', 'auto');
  ga('send', 'pageview');

</script>
    </body>
</html>